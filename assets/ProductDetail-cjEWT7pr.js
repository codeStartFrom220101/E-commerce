import{_ as q,u as G,a as Q,r as P,c as r,b as F,o as M,d as W,e as n,f as i,g as j,w as b,T as z,F as S,h as x,i as a,j as t,B as E,t as _,k as p,l as A,v as H,n as N,m as J,p as K,P as O}from"./index-C3L8UG9A.js";const X={width:"0",height:"0",style:{position:"absolute",visibility:"hidden"},"aria-hidden":"true"},Y={class:"product-detail-wrapper"},Z={key:0,class:"product-detail"},tt={class:"product-detail-block"},et={class:"image-section"},st=["src","alt"],ot={class:"share"},at=["href"],lt=["href"],nt={class:"product-detail-block"},it={class:"info-section"},rt={class:"name"},ut={class:"promo-info"},dt={class:"price"},ct={class:"quantity-control"},pt={class:"product-detail-block"},vt={class:"another-info"},mt={class:"title"},ft={key:0,class:"description"},bt={key:1,class:"costumer-response"},_t={key:0},ht={key:1},kt={class:"similar"},yt={class:"similar-product"},gt={key:1,class:"not-found"},wt={__name:"ProductDetail",setup(Ct){const h=F(),T=W(),v=G(),k=Q(),d=P("description"),y=r(()=>Number(h.params.id)),s=r(()=>v.products.find(o=>o.id===y.value));M(async()=>{v.products.length||await v.fetchProducts(),s.value||T.replace({name:"ProductList"}),window.scrollTo(0,0)});const m=r(()=>window.location.href),g=r(()=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m.value)}`),$=r(()=>`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(m.value)}`),B=async()=>{if(navigator.share)try{await navigator.share({title:s.value.name,url:m.value})}catch(o){console.error("Web Share 失敗",o)}else window.open(g.value,"_blank")},L={all:"全部商品",couple:"情侶專區",healing:"療癒小物",useful:"實用選品"},f=r(()=>{var o;return h.params.category||((o=s.value)==null?void 0:o.category)||"all"}),U=r(()=>{const o=[{name:"首頁",link:"/"},{name:"全部商品",link:"/product"}];return f.value!=="all"&&o.push({name:L[f.value],link:{name:"ProductList",params:{category:f.value}}}),s.value&&o.push({name:s.value.name}),o}),l=P(1),I=()=>l.value++,V=()=>{l.value>1&&l.value--},D=()=>{(l.value<1||isNaN(l.value))&&(l.value=1)},w=()=>{s.value&&(k.addItem({...s.value,quantity:l.value}),k.openCart())},R=r(()=>v.similarProducts(y.value));return(o,e)=>{const c=x("font-awesome-icon"),C=x("router-link");return a(),n(S,null,[(a(),n("svg",X,e[3]||(e[3]=[j('<defs data-v-bbe8494a><linearGradient id="instagramGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-bbe8494a><stop offset="0%" stop-color="#405de6" data-v-bbe8494a></stop><stop offset="25%" stop-color="#833ab4" data-v-bbe8494a></stop><stop offset="50%" stop-color="#e1306c" data-v-bbe8494a></stop><stop offset="75%" stop-color="#f56040" data-v-bbe8494a></stop><stop offset="100%" stop-color="#ffdc80" data-v-bbe8494a></stop></linearGradient></defs>',1)]))),i(z,{name:"slide-fade"},{default:b(()=>[t("div",Y,[s.value?(a(),n("div",Z,[t("div",tt,[t("div",et,[t("img",{src:s.value.image,alt:s.value.name},null,8,st)]),i(E,{paths:U.value},null,8,["paths"]),t("div",ot,[e[4]||(e[4]=t("h6",null,"分享到：",-1)),t("a",{href:g.value,class:"facebook",target:"_blank",rel:"noopener noreferrer"},[i(c,{icon:["fab","facebook"]})],8,at),t("a",{href:$.value,class:"line",target:"_blank",rel:"noopener noreferrer"},[i(c,{icon:["fab","line"]})],8,lt),t("button",{onClick:B,class:"instagram-btn"},[i(c,{class:"instagram",icon:["fab","instagram"]})])])]),t("div",nt,[t("div",it,[t("h2",rt,_(s.value.name),1),t("ul",ut,[e[10]||(e[10]=t("li",null,"限時至 4/30・全站滿 $520 免運費！",-1)),t("li",null,[e[6]||(e[6]=p(" 連假限定｜ ")),i(C,{to:{name:"ProductList",params:{category:"healing"}},class:"promo-link"},{default:b(()=>e[5]||(e[5]=[p(" 療癒選物 ")])),_:1}),e[7]||(e[7]=p(" 只要 $99 起！ "))]),t("li",null,[i(C,{to:{name:"ProductList",params:{category:"couple"}},class:"promo-link"},{default:b(()=>e[8]||(e[8]=[p(" 情侶小物 ")])),_:1}),e[9]||(e[9]=p(" 任選 2 件 現折 $10 "))])]),t("p",dt,"NT$ "+_(s.value.price),1),t("div",ct,[e[11]||(e[11]=t("h6",null,"數量",-1)),t("button",{onClick:V},[i(c,{icon:["fas","minus"]})]),A(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=u=>l.value=u),min:"1",onBlur:D},null,544),[[H,l.value,void 0,{number:!0}]]),t("button",{onClick:I},[i(c,{icon:["fas","plus"]})])]),t("div",{class:"btn-content"},[t("button",{class:"add-cart-btn",onClick:w}," 加入購物車 "),t("button",{class:"buy-btn",onClick:w}," 立即購買 ")])])]),t("div",pt,[t("div",vt,[t("div",mt,[t("div",{class:"title-block",onClick:e[1]||(e[1]=u=>d.value="description")},[t("h4",{class:N({active:d.value==="description"})},"商品描述",2)]),t("div",{class:"title-block",onClick:e[2]||(e[2]=u=>d.value="reviews")},[t("h4",{class:N({active:d.value==="reviews"})},"顧客評價",2)])]),d.value==="description"?(a(),n("div",ft,[e[12]||(e[12]=t("h3",null,"商品描述",-1)),t("p",null,_(s.value.description),1)])):(a(),n("div",bt,[e[14]||(e[14]=t("h3",null,"顧客評價",-1)),s.value.reviews?(a(),n("ul",_t,e[13]||(e[13]=[t("li",null,"🌟 超可愛的設計，小朋友一看到就愛不釋手！",-1),t("li",null,"🧸 材質比想像中好，拿在手上很療癒，超推！",-1),t("li",null,"🎁 拿來送禮超適合，朋友收到後立刻問哪裡買的～",-1),t("li",null,"💡 實品跟照片一樣精緻，包裝也很細心，值得收藏。",-1),t("li",null,"🚚 出貨很快，隔天就收到了！整體體驗超棒～",-1)]))):(a(),n("p",ht,"此商品現在沒有其他評論"))]))]),t("div",kt,[e[15]||(e[15]=t("h3",null,"相似產品",-1)),t("div",yt,[(a(!0),n(S,null,J(R.value,u=>(a(),K(O,{key:u.id,product:u},null,8,["product"]))),128))])])])])):(a(),n("div",gt," 找不到此商品！ "))])]),_:1})],64)}}},St=q(wt,[["__scopeId","data-v-bbe8494a"]]);export{St as default};
